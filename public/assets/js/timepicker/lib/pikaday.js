!function(t,e){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(t){}module.exports=e(n)}else"function"==typeof define&&define.amd?define(function(t){return n=t.defined&&t.defined("moment")?t("moment"):void 0,e(n)}):t.Pikaday=e(t.moment)}(this,function(t){"use strict";var e="function"==typeof t,n=!!window.addEventListener,i=window.document,o=window.setTimeout,a=function(t,e,i,o){n?t.addEventListener(e,i,!!o):t.attachEvent("on"+e,i)},s=function(t,e,i,o){n?t.removeEventListener(e,i,!!o):t.detachEvent("on"+e,i)},r=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},l=function(t){return/Array/.test(Object.prototype.toString.call(t))},u=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},h=function(t){u(t)&&t.setHours(0,0,0,0)},f=function(t,e){return t.getTime()===e.getTime()},d=function(t,e,n){var i,o;for(i in e)(o=void 0!==t[i])&&"object"==typeof e[i]&&void 0===e[i].nodeName?u(e[i])?n&&(t[i]=new Date(e[i].getTime())):l(e[i])?n&&(t[i]=e[i].slice(0)):t[i]=d({},e[i],n):!n&&o||(t[i]=e[i]);return t},c={field:null,bound:void 0,position:"bottom left",format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},p=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},m=function(t,e,n,i,o){if(o)return'<td class="is-empty"></td>';var a=[];return i&&a.push("is-disabled"),n&&a.push("is-today"),e&&a.push("is-selected"),'<td data-day="'+t+'" class="'+a.join(" ")+'"><button class="pika-button" type="button">'+t+"</button></td>"},g=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+function(t){var e,n=[];for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+p(t,e)+'">'+p(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"}(t)+("<tbody>"+e.join("")+"</tbody>")+"</table>"},_=function(s){var l=this,h=l.config(s);l._onMouseDown=function(t){if(l._v){var e=(t=t||window.event).target||t.srcElement;if(e){if(!r(e,"is-disabled")){if(r(e,"pika-button")&&!r(e,"is-empty"))return l.setDate(new Date(l._y,l._m,parseInt(e.innerHTML,10))),void(h.bound&&o(function(){l.hide()},100));r(e,"pika-prev")?l.prevMonth():r(e,"pika-next")&&l.nextMonth()}if(r(e,"pika-select"))l._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}}},l._onChange=function(t){var e=(t=t||window.event).target||t.srcElement;e&&(r(e,"pika-select-month")?l.gotoMonth(e.value):r(e,"pika-select-year")&&l.gotoYear(e.value))},l._onInputChange=function(n){var i;n.firedBy!==l&&(i=e?(i=t(h.field.value,h.format))&&i.isValid()?i.toDate():null:new Date(Date.parse(h.field.value)),l.setDate(u(i)?i:null),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){l._c||(l._b=o(function(){l.hide()},50)),l._c=!1},l._onClick=function(t){var e=(t=t||window.event).target||t.srcElement,i=e;if(e){!n&&r(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),a(e,"change",l._onChange)));do{if(r(i,"pika-single"))return}while(i=i.parentNode);l._v&&e!==h.trigger&&l.hide()}},l.el=i.createElement("div"),l.el.className="pika-single"+(h.isRTL?" is-rtl":""),a(l.el,"mousedown",l._onMouseDown,!0),a(l.el,"change",l._onChange),h.field&&(h.bound?i.body.appendChild(l.el):h.field.parentNode.insertBefore(l.el,h.field.nextSibling),a(h.field,"change",l._onInputChange),h.defaultDate||(e&&h.field.value?h.defaultDate=t(h.field.value,h.format).toDate():h.defaultDate=new Date(Date.parse(h.field.value)),h.setDefaultDate=!0));var f=h.defaultDate;u(f)?h.setDefaultDate?l.setDate(f,!0):l.gotoDate(f):l.gotoDate(new Date),h.bound?(this.hide(),l.el.className+=" is-bound",a(h.trigger,"click",l._onInputClick),a(h.trigger,"focus",l._onInputFocus),a(h.trigger,"blur",l._onInputBlur)):this.show()};return _.prototype={config:function(t){this._o||(this._o=d({},c,!0));var e=d(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,u(e.minDate)||(e.minDate=!1),u(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&(h(e.minDate),e.minYear=e.minDate.getFullYear(),e.minMonth=e.minDate.getMonth()),e.maxDate&&(h(e.maxDate),e.maxYear=e.maxDate.getFullYear(),e.maxMonth=e.maxDate.getMonth()),l(e.yearRange)){var i=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||i,e.yearRange[1]=parseInt(e.yearRange[1],10)||i}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||c.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return u(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,i){e&&t.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return u(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),u(t)){var n,o,a,s,r=this._o.minDate,l=this._o.maxDate;u(r)&&t<r?t=r:u(l)&&t>l&&(t=l),this._d=new Date(t.getTime()),h(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),n=this._o.field,o="change",a={firedBy:this},i.createEvent?((s=i.createEvent("HTMLEvents")).initEvent(o,!0,!1),s=d(s,a),n.dispatchEvent(s)):i.createEventObject&&(s=i.createEventObject(),s=d(s,a),n.fireEvent("on"+o,s))),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){u(t)&&(this._y=t.getFullYear(),this._m=t.getMonth(),this.draw())},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t=parseInt(t,10))||(this._m=t<0?0:t>11?11:t,this.draw())},nextMonth:function(){++this._m>11&&(this._m=0,this._y++),this.draw()},prevMonth:function(){--this._m<0&&(this._m=11,this._y--),this.draw()},gotoYear:function(t){isNaN(t)||(this._y=parseInt(t,10),this.draw())},setMinDate:function(t){this._o.minDate=t},setMaxDate:function(t){this._o.maxDate=t},draw:function(t){if(this._v||t){var e=this._o,n=e.minYear,i=e.maxYear,a=e.minMonth,s=e.maxMonth;if(this._y<=n&&(this._y=n,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s)),this.el.innerHTML=function(t){var e,n,i,o,a,s=t._o,r=t._m,u=t._y,h=u===s.minYear,f=u===s.maxYear,d='<div class="pika-title">',c=!0,p=!0;for(i=[],e=0;e<12;e++)i.push('<option value="'+e+'"'+(e===r?" selected":"")+(h&&e<s.minMonth||f&&e>s.maxMonth?"disabled":"")+">"+s.i18n.months[e]+"</option>");for(o='<div class="pika-label">'+s.i18n.months[r]+'<select class="pika-select pika-select-month">'+i.join("")+"</select></div>",l(s.yearRange)?(e=s.yearRange[0],n=s.yearRange[1]+1):(e=u-s.yearRange,n=1+u+s.yearRange),i=[];e<n&&e<=s.maxYear;e++)e>=s.minYear&&i.push('<option value="'+e+'"'+(e===u?" selected":"")+">"+e+"</option>");return a='<div class="pika-label">'+u+s.yearSuffix+'<select class="pika-select pika-select-year">'+i.join("")+"</select></div>",s.showMonthAfterYear?d+=a+o:d+=o+a,h&&(0===r||s.minMonth>=r)&&(c=!1),f&&(11===r||s.maxMonth<=r)&&(p=!1),d+='<button class="pika-prev'+(c?"":" is-disabled")+'" type="button">'+s.i18n.previousMonth+"</button>",(d+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">'+s.i18n.nextMonth+"</button>")+"</div>"}(this)+this.render(this._y,this._m),e.bound&&(this.adjustPosition(),"hidden"!==e.field.type&&o(function(){e.trigger.focus()},1)),"function"==typeof this._o.onDraw){var r=this;o(function(){r._o.onDraw.call(r)},0)}}},adjustPosition:function(){var t,e,n,o=this._o.trigger,a=o,s=this.el.offsetWidth,r=this.el.offsetHeight,l=window.innerWidth||i.documentElement.clientWidth,u=window.innerHeight||i.documentElement.clientHeight,h=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop;if("function"==typeof o.getBoundingClientRect)t=(n=o.getBoundingClientRect()).left+window.pageXOffset,e=n.bottom+window.pageYOffset;else for(t=a.offsetLeft,e=a.offsetTop+a.offsetHeight;a=a.offsetParent;)t+=a.offsetLeft,e+=a.offsetTop;(t+s>l||this._o.position.indexOf("right")>-1&&t-s+o.offsetWidth>0)&&(t=t-s+o.offsetWidth),(e+r>u+h||this._o.position.indexOf("top")>-1&&e-r-o.offsetHeight>0)&&(e=e-r-o.offsetHeight),this.el.style.cssText=["position: absolute","left: "+t+"px","top: "+e+"px"].join(";")},render:function(t,e){var n,i=this._o,o=new Date,a=[31,(n=t,n%4==0&&n%100!=0||n%400==0?29:28),31,30,31,30,31,31,30,31,30,31][e],s=new Date(t,e,1).getDay(),r=[],l=[];h(o),i.firstDay>0&&(s-=i.firstDay)<0&&(s+=7);for(var d,c=a+s,p=c;p>7;)p-=7;c+=7-p;for(var _=0,y=0;_<c;_++){var v=new Date(t,e,_-s+1),D=i.minDate&&v<i.minDate||i.maxDate&&v>i.maxDate,b=!!u(this._d)&&f(v,this._d),w=f(v,o),M=_<s||_>=a+s;l.push(m(_-s+1,b,w,D,M)),7==++y&&(r.push((d=l,"<tr>"+(i.isRTL?d.reverse():d).join("")+"</tr>")),l=[],y=0)}return g(i,r)},isVisible:function(){return this._v},show:function(){var t,e,n;this._v||(this._o.bound&&a(i,"click",this._onClick),t=this.el,e="is-hidden",t.className=(n=(" "+t.className+" ").replace(" "+e+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,""),this._v=!0,this.draw(),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t,e,n=this._v;!1!==n&&(this._o.bound&&s(i,"click",this._onClick),this.el.style.cssText="",t=this.el,r(t,e="is-hidden")||(t.className=""===t.className?e:t.className+" "+e),this._v=!1,void 0!==n&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},_}),function(t,e){"use strict";"object"==typeof exports?e(require("jquery"),require("../pikaday")):"function"==typeof define&&define.amd?define(["jquery","pikaday"],e):e(t.jQuery,t.Pikaday)}(this,function(t,e){"use strict";t.fn.pikaday=function(){var n=arguments;return n&&n.length||(n=[{}]),this.each(function(){var i=t(this),o=i.data("pikaday");if(o instanceof e)"string"==typeof n[0]&&"function"==typeof o[n[0]]&&o[n[0]].apply(o,Array.prototype.slice.call(n,1));else if("object"==typeof n[0]){var a=t.extend({},n[0]);a.field=i[0],i.data("pikaday",new e(a))}})}});